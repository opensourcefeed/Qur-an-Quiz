webpackJsonp([1],{"3qEi":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZmlsbD0id2hpdGUiIGQ9Ik0yMSA2aC0ydjlINnYyYzAgLjU1LjQ1IDEgMSAxaDExbDQgNFY3YzAtLjU1LS40NS0xLTEtMXptLTQgNlYzYzAtLjU1LS40NS0xLTEtMUgzYy0uNTUgMC0xIC40NS0xIDF2MTRsNC00aDEwYy41NSAwIDEtLjQ1IDEtMXoiLz48L3N2Zz4="},"81mk":function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZmlsbD0iI2ZmZmZmZiIgZD0iTTIwIDExSDcuODNsNS41OS01LjU5TDEyIDRsLTggOCA4IDggMS40MS0xLjQxTDcuODMgMTNIMjB2LTJ6Ii8+PC9zdmc+"},DUlE:function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ibWFyZ2luOiBhdXRvOyBiYWNrZ3JvdW5kOiBub25lOyBkaXNwbGF5OiBibG9jazsgc2hhcGUtcmVuZGVyaW5nOiBhdXRvOyIgd2lkdGg9IjIyNHB4IiBoZWlnaHQ9IjIyNHB4IiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ieE1pZFlNaWQiPgo8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1MCw1MCkiPgogIDxnIHRyYW5zZm9ybT0ic2NhbGUoMC4xNikiPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSI1MCIgZmlsbD0iI2UzYmU5MiI+PC9jaXJjbGU+CiAgPGNpcmNsZSBjeD0iMCIgY3k9Ii0yNCIgcj0iMTciIGZpbGw9IiNmY2ZjZmMiIHRyYW5zZm9ybT0icm90YXRlKDMzLjYxMykiPgogICAgPGFuaW1hdGVUcmFuc2Zvcm0gYXR0cmlidXRlTmFtZT0idHJhbnNmb3JtIiB0eXBlPSJyb3RhdGUiIGR1cj0iMS4yMTk1MTIxOTUxMjE5NTEycyIgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiIGtleVRpbWVzPSIwOzEiIHZhbHVlcz0iMCAwIDA7MzYwIDAgMCI+PC9hbmltYXRlVHJhbnNmb3JtPgogIDwvY2lyY2xlPgogIDwvZz4KPC9nPgo8IS0tIFtsZGlvXSBnZW5lcmF0ZWQgYnkgaHR0cHM6Ly9sb2FkaW5nLmlvLyAtLT48L3N2Zz4="},"E+aY":function(t,e){},I28P:function(t,e){},Laea:function(t,e){t.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij48cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIi8+PHBhdGggZmlsbD0iIzg4ODg4OCIgZD0iTTIwIDExSDcuODNsNS41OS01LjU5TDEyIDRsLTggOCA4IDggMS40MS0xLjQxTDcuODMgMTNIMjB2LTJ6Ii8+PC9zdmc+"},MImn:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),i=2,a="filmbiopsy",o="http://www.opensourcefeed.org/Qur-an-Quiz/data/",r="https://filmbiopsy1.gitlab.io/mobile-app/",c=20,u=3e5,l={name:"App",data:function(){return{updateAvailable:!1,update:{}}},methods:{onDeviceReady:function(){console.log("device ready"),document.removeEventListener("deviceready",this.onDeviceReady),document.addEventListener("backbutton",this.onBackKeyDown,!1)},onBackKeyDown:function(t){t.preventDefault(),console.log("pressed backbutton");let e=document.getElementById("back");e&&"disabled"!==e.getAttribute("class")?e.click():navigator.app?navigator.app.exitApp():navigator.device?navigator.device.exitApp():window.close()}},mounted(){let t=this;fetch(`${r}meta.json`).then(t=>{if(t.ok)return t.json();throw new Error("Something went wrong")}).then(e=>{void 0!==this.buildInfo.version&&e.latestVersion>this.buildInfo.version&&(t.update.version=this.buildInfo.version,t.update.latestVersion=e.latestVersion,t.updateAvailable=!0)}).catch(t=>{window.alert(t)});let e=document.createElement("script");e.setAttribute("src","cordova.js"),document.head.appendChild(e),document.addEventListener("deviceready",this.onDeviceReady)},computed:{buildInfo:function(){return window.BuildInfo?window.BuildInfo:{}}}},d={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("router-view"),t._v(" "),t.updateAvailable?s("Updater",{attrs:{update:t.update},on:{close:function(e){t.updateAvailable=!1}}}):t._e()],1)},staticRenderFns:[]};var m=s("VU/8")(l,d,!1,function(t){s("E+aY")},null,null).exports,g=s("/ocq");var h={name:"Menu",computed:{categories(){return this.$store.state.data.categories||[]}},methods:{exitApp:function(){navigator.app?navigator.app.exitApp():navigator.device?navigator.device.exitApp():window.close()},openRateDialog:function(){window.AppRate&&AppRate.promptForRating()}},data:()=>({})},p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[this._m(0),this._v(" "),e("div",{staticClass:"categories"},[e("img",{attrs:{id:"title-logo",src:s("Z2Ou")}}),this._v(" "),e("div",{staticClass:"group"},[e("div",{staticClass:"item"},[e("router-link",{attrs:{to:{name:"Chapter"}}},[e("img",{attrs:{src:s("3qEi")}}),e("br"),this._v("\n            Qur'an Quiz\n          ")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nav"},[e("h2",[e("a",[e("img",{staticClass:"icon",attrs:{src:s("Laea")}})]),this._v("Menu")])])}]};var v=s("VU/8")(h,p,!1,function(t){s("MImn")},"data-v-2088c5ba",null).exports,I={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("img",{attrs:{src:s("DUlE")}})])}]};var f=s("VU/8")({name:"Spinner"},I,!1,function(t){s("PVK8")},null,null).exports,w={name:"Category",components:{Spinner:f},data:function(){return{topics:[],error:!1}},mounted:function(){let t=this;fetch(`${o}chapters.json`).then(t=>{if(t.ok)return t.json();throw new Error("Something went wrong")}).then(async e=>{console.log("success"),t.topics=await e,console.log(t.topics)}).catch(e=>{console.log("error"),window.alert(e),t.error=!0})}},b={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("h2",[n("router-link",{attrs:{id:"back",to:{name:"Menu"}}},[n("img",{staticClass:"icon",attrs:{src:s("81mk")}})]),t._v("Chapters\n    ")],1)]),t._v(" "),t.topics.length?n("div",{staticClass:"categories"},t._l(t.topics,function(e,s){return n("router-link",{key:s,staticClass:"btn",attrs:{to:{name:"Question",params:{chapter:e.id}}}},[t._v("\n      "+t._s(e.title)+"\n    ")])}),1):t.error?n("div",{staticClass:"loading"},[n("p",[t._v("Could not load questions, please check your network.")])]):n("Spinner")],1)},staticRenderFns:[]};var y=s("VU/8")(w,b,!1,function(t){s("NSYh")},null,null).exports,C=s("mtWM"),D=s.n(C),S={shuffle(t){for(var e=t.length-1;e>0;e--){var s=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[s],t[s]=n}return t},userId:()=>"_"+Math.random().toString(36).substr(2,9),setUser(t){console.log("Setting user ",t),window.localStorage.setItem(`${a}-user`,JSON.stringify(t))},getUser:()=>JSON.parse(window.localStorage.getItem(`${a}-user`)),setAdShown(){window.localStorage.setItem(`${a}-adShown`,(new Date).getTime())},canShowAd(){if(!window.localStorage.getItem(`${a}-adShown`))return!0;let t=window.localStorage.getItem(`${a}-adShown`);return console.log((new Date).getTime()-t),(new Date).getTime()-t>u}},M={name:"question",components:{Spinner:f},data:function(){return{selected:!1,selectedAnswer:"",loaded:!1,error:!1,remainingTime:c}},methods:{markAnswer:function(t){console.log("asking to mark answer"),console.log(this.selected),this.selected||(this.selected=!0,this.selectedAnswer=t,this.question.answer===this.selectedAnswer&&(this.$store.state.data.score+=1),console.log("score "+this.$store.state.data.score))},updateTimer:function(){console.log(this),this.remainingTime-=1,0===this.remainingTime&&(this.questionNum<this.questions.length?this.$router.push({name:"Question",params:{category:this.topicId,number:Number(this.questionNum)+1}}):this.$router.push({name:"Result"})),this.timer=setTimeout(this.updateTimer,1e3)},loadData:function(){let t=this;D.a.get(`${o}${this.chapterId}.json`).then(e=>{e=e.data,console.log(e),t.$store.commit("setData",e),e.questions=S.shuffle(e.questions);let s=e.questions;console.log("questions",s);for(let t of s)t.options=S.shuffle(t.options);let n=s.length>i?i:s.length;e.questions=s.splice(0,n),e.score=0,e.level=t.levelId,e.category=t.categoryId,t.loaded=!0,t.updateTimer()}).catch(function(e){console.log(e),t.error=!0})}},computed:{chapterId(){return this.$route.params.chapter},chapter(){return this.$store.state.data.title?this.$store.state.data.title:""},questionNum(){return this.$route.params.number?this.$route.params.number:1},questions(){return this.$store.state.data.questions?this.$store.state.data.questions:[]},question(){return this.$store.state.data.questions&&this.questionNum<=this.$store.state.data.questions.length?this.$store.state.data.questions[this.questionNum-1]:{}}},mounted:function(){console.log("inside mounter..."),this.loadData()},beforeDestroy:function(){console.log("clearing timeout"),clearTimeout(this.timer)},beforeRouteLeave:function(t,e,s){console.log("leaving route",t,e),s()},watch:{questionNum:function(){this.selected=!1,this.selectedAnswer="",clearTimeout(this.timer),this.remainingTime=c,this.updateTimer(),console.log("questionNum changed"),1!==this.questionNum&&this.$store.state.data.questions||this.loadData()}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("h2",[n("router-link",{attrs:{id:"back",to:{name:"Chapter"}}},[n("img",{staticClass:"icon",attrs:{src:s("81mk")}})]),t._v(t._s(t.chapter)+"\n    ")],1)]),t._v(" "),t.question&&t.loaded?n("div",{attrs:{id:"quiz"}},[n("div",{staticClass:"info"},[n("p",{staticClass:"progress"},[t._v("Question "+t._s(t.questionNum)+" of "+t._s(t.questions.length))]),t._v(" "),n("p",{staticClass:"timer"},[t._v("Remaining time "+t._s(t.remainingTime))])]),t._v(" "),n("p",{staticClass:"question"},[t._v(t._s(t.question.question))]),t._v(" "),t._l(t.question.options,function(e,s){return n("div",{key:s,staticClass:"option btn",class:{correct:t.selectedAnswer===e&&e===t.question.answer,incorrect:t.selectedAnswer===e&&e!=t.question.answer},on:{click:function(s){return t.markAnswer(e)}}},[t._v(t._s(e))])}),t._v(" "),t.selected?n("div",[t.questionNum<t.questions.length?n("router-link",{staticClass:"option btn",attrs:{to:{name:"Question",params:{chapter:t.chapterId,number:Number(t.questionNum)+1}}}},[t._v("\n        CONTINUE\n      ")]):n("router-link",{staticClass:"option btn",attrs:{to:{name:"Result"}}},[t._v("\n        Finish\n      ")])],1):t._e()],2):t.error?n("div",{staticClass:"error"},[n("p",[t._v("Could not load questions, please check your network.")])]):n("Spinner")],1)},staticRenderFns:[]};var _=s("VU/8")(M,N,!1,function(t){s("xS8j")},"data-v-1e218016",null).exports,A={name:"Result",data:function(){return{name:""}},mounted:function(){},computed:{score:function(){return this.$store.state.data.score?this.$store.state.data.score:""},levelId:function(){return this.$store.state.data.level?this.$store.state.data.level:""},categoryId:function(){return this.$store.state.data.category?this.$store.state.data.category:""},questionCount:function(){return this.$store.state.data.questions?this.$store.state.data.questions.length:""},id:function(){return S.getUser().id}}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav"},[n("h2",[n("a",{attrs:{id:"back-disabled",to:{name:"Category"}}},[n("img",{staticClass:"icon",attrs:{src:s("Laea")}})]),t._v("Result\n    ")])]),t._v(" "),n("h3",[t._v("Result")]),t._v("\n  You scored "+t._s(100*t.score/t.questionCount)+"% by correctly answering "+t._s(t.score)+" of total "+t._s(t.questionCount)+" questions\n  "),n("hr"),t._v(" "),n("router-link",{staticClass:"btn",attrs:{to:{name:"Chapter"}}},[n("img",{attrs:{src:s("3qEi")}}),n("br"),t._v("\n      Try Again\n    ")])],1)},staticRenderFns:[]};var T=s("VU/8")(A,q,!1,function(t){s("I28P")},"data-v-98c1f9da",null).exports;n.a.use(g.a);var Z=new g.a({routes:[{path:"/",name:"Menu",component:v},{path:"/chapter",name:"Chapter",component:y},{path:"/chapter/:chapter/question/:number?",name:"Question",component:_},{path:"/quiz/result",name:"Result",component:T}]}),x=s("NYxO");n.a.use(x.a);var j=new x.a.Store({state:{data:{}},mutations:{setData(t,e){t.data=e}}});n.a.config.productionTip=!1,new n.a({el:"#app",store:j,router:Z,components:{App:m},template:"<App/>"})},NSYh:function(t,e){},PVK8:function(t,e){},Z2Ou:function(t,e,s){t.exports=s.p+"static/img/logo.c3c78ea.png"},xS8j:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9f99a71aa99a6656d723.js.map